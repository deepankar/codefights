def validate(l):
  seen= [False]*10
  for c in l:
    if c != '.':
      idx = ord(c) - ord('0')
      if seen[idx]:
        return False
      seen[idx] = True
  return True

def sudoku2(grid):
  for r in xrange(9):
    if not validate(grid[r]):
      return False
  for c in xrange(9):
    l=[]
    for r in xrange(9):
      l.append(grid[r][c])
    if not validate(l):
      return False
  for br in xrange(0,9,3):
    for bc in xrange(0,9,3):
      l=[]
      for r in xrange(br,br+3):
        for c in xrange(bc,bc+3):
          l.append(grid[r][c])
      if not validate(l):
        return False
  return True

grid_t = [['.', '.', '.', '1', '4', '.', '.', '2', '.'],
          ['.', '.', '6', '.', '.', '.', '.', '.', '.'],
          ['.', '.', '.', '.', '.', '.', '.', '.', '.'],
          ['.', '.', '1', '.', '.', '.', '.', '.', '.'],
          ['.', '6', '7', '.', '.', '.', '.', '.', '9'],
          ['.', '.', '.', '.', '.', '.', '8', '1', '.'],
          ['.', '3', '.', '.', '.', '.', '.', '.', '6'],
          ['.', '.', '.', '.', '.', '7', '.', '.', '.'],
          ['.', '.', '.', '5', '.', '.', '.', '7', '.']]

grid = [['.', '.', '.', '.', '2', '.', '.', '9', '.'],
        ['.', '.', '.', '.', '6', '.', '.', '.', '.'],
        ['7', '1', '.', '.', '7', '5', '.', '.', '.'],
        ['.', '7', '.', '.', '.', '.', '.', '.', '.'],
        ['.', '.', '.', '.', '8', '3', '.', '.', '.'],
        ['.', '.', '8', '.', '.', '7', '.', '6', '.'],
        ['.', '.', '.', '.', '.', '2', '.', '.', '.'],
        ['.', '1', '.', '2', '.', '.', '.', '.', '.'],
        ['.', '2', '.', '.', '3', '.', '.', '.', '.']]

print sudoku2(grid_t)
